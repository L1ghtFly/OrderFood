<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
    <link rel="stylesheet" href="https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link rel="stylesheet" href="menu.css">
    <script defer src="https://unpkg.com/boxicons@2.1.4/dist/boxicons.js"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/chart.js@4.4.2/dist/chart.umd.min.js"></script>
    <script defer src="mains.js"></script>
    <title>Заказ еды</title>
</head>
<body>
    <nav class="navbar">
        <h1>BigLunch.</h1>
    </nav>
    <hr class="divider">
    <section class="content">
        <div class = "delpick">
            <div id="deliveryOptions">
                <input type="radio" id="localDelivery" name="delivery" value="local" checked>
                <label for="localDelivery">На месте</label>
                <input type="radio" id="homeDelivery" name="delivery" value="delivery">
                <label for="homeDelivery">Доставка</label>
            </div>
            
            <div class="addressInfo" style="display: none;">
                <div id="pickupLocation" style="display: flex; align-items: center;">
                    <div id="mapWithMarker" style="width: 100%; height: 400px;"></div>
                </div>
                <div id="pickupLocation" style="display: flex; align-items: center;">
                    <div class="locationImage">
                        <img src="metka.png" alt="Метка">
                    </div>
                    <div class="locationText">
                        <p>Парк Высоких Технологий</p>
                        <p id="street">улица Академика Купревича, 1к3</p>
                    </div>
                </div>
                <div class="outerAddressButtonContainer">
                    <div class="innerAddressButtonContainer">
                        <button id="selectOnSiteButton">Выбрать на месте</button>
                    </div>
                </div>
            </div>
            

        </div>
        
        
        
        <div id="additionalInfo" style="display: none;">
            <div id="mapWithCircle" style="width: 100%; height: 400px;"></div>
            <div class="grid-container">
                
                <div>
                    <label for="address">Улица, дом</label>
                    <input type="text" id="address" name="address" placeholder="Введите ваш адрес">
                </div>
                <div>
                    <label for="entry">Подъезд</label>
                    <input type="text" id="entry" name="entry" placeholder="Подъезд">
                </div>
            </div>
            <label for="comments">Комментарий к адресу</label>
            <input id="comments" name="comments" placeholder="Комментарии...">
            <div class="outerAddressButtonContainer">
                <div class="innerAddressButtonContainer">
                    <button id="selectDeliveryButton">Сохранить и выбрать</button>
                </div>
            </div>            
        </div>
        
        
        <div class="menu">
            <h1>Меню</h1>
        </div>     
        
        <!-- Использование классов вместо ID для toggleDropdown и уникальных ID для каждого счетчика -->
        <div class="dropdown">
            <button class="dropbtn" id="saladButton" onclick="toggleDropdown('saladDropdown', event)">
                1. Салаты
                <i id="saladDropdownIcon" class="fas fa-chevron-down"></i>
            </button>
            <div class="dropdown-content main-dropdown-content" id="saladDropdown">
                <div class="item" data-category="salad" data-container-id="contCount1">
                    Салат с фасолью, сухариками и ветчиной / 3.00 - <button onclick="decreaseCount('saladCount1')">-</button> <span id="saladCount1">0</span> <button onclick="increaseCount('saladCount1')">+</button>
                </div>
                <div class="item" data-category="salad" data-container-id="contCount1">
                    Салат а-ля “Цезарь” / 3.20 <button onclick="decreaseCount('saladCount2')">-</button> <span id="saladCount2">0</span> <button onclick="increaseCount('saladCount2')">+</button>
                </div>
                <div class="item" data-category="salad" data-container-id="contCount1">
                    Салат “Цветик-семицветик” / 3.00 <button onclick="decreaseCount('saladCount3')">-</button> <span id="saladCount3">0</span> <button onclick="increaseCount('saladCount3')">+</button>
                </div>
                <div class="item" data-category="salad" data-container-id="contCount1">
                    Салат из белокачанной капусты с помидорами и морковью  / 2.60 <button onclick="decreaseCount('saladCount4')">-</button> <span id="saladCount4">0</span> <button onclick="increaseCount('saladCount4')">+</button>
                </div>
            </div>
        </div>
        <div class="dropdown">
            <button class="dropbtn" onclick="toggleDropdown('soupDropdown', event)">
                2. Первое блюдо
                <i id="soupDropdownIcon" class="fas fa-chevron-down"></i>
            </button>
            <div id="soupDropdown"   class="dropdown-content">
                <div class="item" data-category="soup">
                    Солянка сборная / 5.60 - <button onclick="decreaseCount('soupCount1')">-</button> <span id="soupCount1">0</span> <button onclick="increaseCount('soupCount1')">+</button>
                </div>
                <div class="item" data-category="soup">
                    Cуп рыбный из форели / 5.20 - <button onclick="decreaseCount('soupCount2')">-</button> <span id="soupCount2">0</span> <button onclick="increaseCount('soupCount2')">+</button>
                </div>
                <div class="item" data-category="soup">
                    Рассольник Ленинградский / 3.30 - <button onclick="decreaseCount('soupCount3')">-</button> <span id="soupCount3">0</span> <button onclick="increaseCount('soupCount3')">+</button>
                </div>
                <!-- Дополнительные подпункты с уникальными ID -->
            </div>
        </div>
        <div class="dropdown">
            <button class="dropbtn" onclick="toggleDropdown('mainDropdown', event)">
                3. Основное блюдо
                <i id="mainDropdownIcon" class="fas fa-chevron-down"></i>
            </button>
            <div id="mainDropdown" class="dropdown-content">
                <div class="item" data-category="container">
                    <span onclick="toggleContainer('cont1')">Контейнер для основных (одноразовый) / 0.50 руб.</span>
                    <button onclick="addContainer()">Добавить</button>
                    <button onclick="removeContainer('cont1')">Удалить</button>
                </div>

                <div class="dropdown">
                    <button class="dropbtn" onclick="toggleDropdown('porkDropdown', event)">Свинина
                        <i id="porkDropdownIcon" class="fas fa-chevron-down"></i>
                    </button>
                    <div class="dropdown-content" id="porkDropdown">
                        <div class="item" data-category="main" data-price="5.00" data-name="Свиные ребрышки" id="porkCount1">
                            Свиные ребрышки / 5.00 руб.
                            <button onclick="addToContainer('porkCount1', 'Свиные ребрышки', 5.00)">Добавить</button>
                        </div>
                    </div>
                </div>
                <div class="dropdown">
                    <button class="dropbtn" onclick="toggleDropdown('beefDropdown', event)">Говядина
                        <i id="beefDropdownIcon" class="fas fa-chevron-down"></i>
                    </button>
                    
                    <div class="dropdown-content" id="beefDropdown">
                        <div class="item" data-category="main" data-price="7.00" data-name="Говяжий стейк" id="beefCount1">
                            Говяжий стейк / 7.00 руб
                            <button onclick="addToContainer('beefCount1', 'Говяжий стейк', 7.00)">Добавить</button>
                        </div>
                    </div>
                </div>
                <div class="dropdown">
                    <button class="dropbtn" onclick="toggleDropdown('chickenDropdown', event)">Курица
                        <i id="chickenDropdownIcon" class="fas fa-chevron-down"></i>
                    </button>
                    
                    <div class="dropdown-content" id="chickenDropdown">
                        <div class="item" data-category="main" data-price="4.00" data-name=" Куриные крылышки" id="chickenCount1">
                            Куриные крылышки / 4.00 руб
                            <button onclick="addToContainer('chickenCount1', 'Куриные крылышки', 4.00)">Добавить</button>
                        </div>
                                              
                    </div>
                </div>
                <div class="dropdown">
                    <button class="dropbtn" onclick="toggleDropdown('fishDropdown', event)">Рыба
                        <i id="fishDropdownIcon" class="fas fa-chevron-down"></i>
                    </button>
                    
                    <div class="dropdown-content" id="fishDropdown" data-price="15.50" data-name="Рыба запеченая с лимоном" id="fishCount1">
                        <div class="item" data-category="main" >
                            Рыба запеченая с лимоном / 15.50 
                            <button onclick="addToContainer('fishCount1', 'Рыба запеченая с лимоном', 15.50)">Добавить</button>
                        </div>              
                        <!-- Дополнительные подпункты для курицы -->
                    </div>
                    
                </div>
                <div class="dropdown">
                    <button class="dropbtn" id="sidisButton" onclick="toggleDropdown('sidisDropdown', event)">
                        Гарниры
                        <i id="sidisDropdownIcon" class="fas fa-chevron-down"></i>
                    </button>
                    <div class="dropdown-content main-dropdown-content" id="sidisDropdown">
                        <div class="item" data-category="side" data-price="5.50" data-name=" Овощное рагу" id="sideCount1">
                            Овощное рагу / 5.50 
                            <button onclick="addToContainer('sideCount1', 'Овощное рагу', 5.50)">Добавить</button>
                        </div>
                        <div class="item" data-category="side" data-price="3.50" data-name="Картофель запеч. молодой" id="sideCount2">
                            Картофель запеч. молодой / 3.50 
                            <button onclick="addToContainer('sideCount2', 'Картофель запеч. молодой', 3.50)">Добавить</button>
                        </div>
                        <div class="item" data-category="side" data-price="3.40" data-name="Каша перловая с грибами" id="sideCount3">
                            Каша перловая с грибами / 3.40
                            <button onclick="addToContainer('sideCount3', 'Картофель запеч. молодой', 3.40)">Добавить</button>
                        </div>
                        <div class="item" data-category="side" data-price="2.30" data-name="Каша рисовая рассыпчатая" id="sideCount4">
                            Каша рисовая рассыпчатая / 2.30 
                            <button onclick="addToContainer('sideCount4', 'Каша рисовая рассыпчатая', 2.30)">Добавить</button>
                        </div>
                    </div>
                </div>
        </div>
        <div class="dropdown">
            <button class="dropbtn" id="vegeButton" onclick="toggleDropdown('vegeDropdown', event)">
                4. Без мяса
                <i id="vegeDropdownIcon" class="fas fa-chevron-down"></i>
            </button>
            <div class="dropdown-content main-dropdown-content" id="vegeDropdown">
                <div class="item" >
                    Оладьи кабачково-картофельные с грибами / 8.20 - <button onclick="decreaseCount('vegeCount1')">-</button> <span id="vegeCount1">0</span> <button onclick="increaseCount('vegeCount1')">+</button>
                </div>
                <div class="item">
                    Сырники творожные / 3.00 - <button onclick="decreaseCount('vegeCount2')">-</button> <span id="vegeCount2">0</span> <button onclick="increaseCount('vegeCount2')">+</button>
                </div>
                <div class="item" >
                    Сырники творожные с персиком / 2.60 - <button onclick="decreaseCount('vegeCount4')">-</button> <span id="vegeCount4">0</span> <button onclick="increaseCount('vegeCount4')">+</button>
                </div>
                <div class="item" >
                    Блинчики с  яблоками / 4.60 - <button onclick="decreaseCount('vegeCount3')">-</button> <span id="vegeCount3">0</span> <button onclick="increaseCount('vegeCount3')">+</button>
                </div>
            </div>
        </div>
            <div class="dropdown">
                <button class="dropbtn" id="contButton" onclick="toggleDropdown('contDropdown', event)">
                    5. Контейнеры
                    <i id="contDropdownIcon" class="fas fa-chevron-down"></i>
                </button>
                <div class="dropdown-content main-dropdown-content" id="contDropdown">
                    <div class="item" data-category="container">
                        Контейнер для салата(одноразовый) / 0.40 - <button onclick="decreaseCount('contCount1')">-</button> <span id="contCount1">0</span> <button onclick="increaseCount('contCount1')">+</button>
                    </div>
                    <div class="item" data-category="container">
                        Контейнер для супа(одноразовый) / 0.50 - <button onclick="decreaseCount('contCount2')">-</button> <span id="contCount2">0</span> <button onclick="increaseCount('contCount2')">+</button>
                    </div>
                    <div class="item" data-category="container">
                        Контейнер для основых(одноразовый) / 0.50 - <button onclick="decreaseCount('contCount3')">-</button> <span id="contCount3">0</span> <button onclick="increaseCount('contCount3')">+</button>
                    </div>
                </div>
            </div>
    </section>  
    <section id="orderSummary">
        <h2>Ваш заказ:</h2>
        <ul id="orderList"></ul>
        <p><strong>Итого: <span id="totalPrice">0</span> руб.</strong></p>
        <button id="confirm" onclick="submitOrder()">Подтвердить заказ</button>
    </section>
    
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <script src="https://api-maps.yandex.ru/2.1/?apikey=YOUR_API_KEY&lang=ru_RU" type="text/javascript"></script>
    <script src="dropdown.js"></script>
</body>
</html>